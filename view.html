<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
      crossorigin="anonymous"   
    />

    <style>
      body {
        background-image: url("serenitybg50.jpg");
        background-repeat: no-repeat;
        background-attachment: fixed;
        background-size: cover;
        
        
      }
      h5 {
        font-family: 'Roboto', sans-serif;
      }

      tbody {
        font-family: 'Roboto', sans-serif;
      }
      
    </style>

    
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Parisienne&family=Playball&display=swap" rel="stylesheet">

<style>
  body {
font-family: 'Playball', cursive; }
</style>

    <title>SDR-ProductViewing</title>
  </head>

    

  </div>
</div>
<div class="container-fluid p-5 bg-dark text-center">
  <img
      src="serenity logo.png"
      alt="serenity"
      style="width: 100px"
      class="mx-auto d-block">
  <h1 class="text-info">Serenity Dress Rental</h1>
  <h4 class="text-secondary"> (Viewing) </h4>
  <div class="">
    <a
      href="index.html"
      class="btn btn-info text-dark fw-bold"
      id="logout"
      style="white-space: nowrap"
    >
      Log Out</a>

      
</div>
</div>

<div class="container mt-3 text-center">
 <h1 class="text-info"> ⟡ ⟡ ⟡ </h1>

</div>
</div>
<br />

    <table class="table table-striped table-bordered">
        <thead class="table-info text-dark">
          <th class="text-center">No.</th>
          <th class="text-center">Date</th>
          <th class="text-center">Dress ID</th>
          <th class="text-center">Full Name</th>
          <th class="text-center">Address</th>
          <th class="text-center">Mobile No.</th>
          <th class="text-center">Color</th>
          <th class="text-center">Size</th>
          <th class="text-center">Return By</th>
          <th class="text-center">Status</th>
        </thead>
        <tbody id="tbody1">
         <!-- <tr>
            <td>2</td>
            <td>tacv</td>
            <td>10</td>
            <td>B</td>
            <td>male</td>
          </tr> -->
        </tbody>
    </table>
  </div>
</table>
</div>
<br />
<br />

</div>

<script type="module">
 // ---------------- FILLING THE TABLE -----------------------------------------------------//
  var dressNo = 0;
  var tbody = document.getElementById("tbody1");


  function AddItemToTable ( date, dressid, fullname, address, mobileno, color, size, returnby, status){
    let trow = document.createElement("tr");
        let td1 = document.createElement("td");
        let td2 = document.createElement("td");
        let td3 = document.createElement("td");
        let td4 = document.createElement("td");
        let td5 = document.createElement("td");
        let td6 = document.createElement("td");
        let td7 = document.createElement("td");
        let td8 = document.createElement("td");
        let td9 = document.createElement("td");
        let td10 = document.createElement("td");


         td1.innerHTML = ++dressNo;
         td2.innerHTML = date;
         td3.innerHTML = dressid;
         td4.innerHTML = fullname;
         td5.innerHTML = address;
         td6.innerHTML = mobileno;
         td7.innerHTML = color;
         td8.innerHTML = size;
         td9.innerHTML = returnby;
         td10.innerHTML = status;

         trow.appendChild(td1);
         trow.appendChild(td2);
         trow.appendChild(td3);
         trow.appendChild(td4);
         trow.appendChild(td5);
         trow.appendChild(td6);
         trow.appendChild(td7);
         trow.appendChild(td8);
         trow.appendChild(td9);
         trow.appendChild(td10);

         tbody.appendChild(trow);

}
        function AddAllItemsToTable(DressRental){
          dressNo = 0;
          tbody.innerHTML="";
          DressRental.forEach((element) => {
            AddItemToTable(
            element.Date,
            element.DressID,
            element.FullName,
            element.Address,
            element.MobileNo, 
            element.Color,
            element.Size,
            element.ReturnBy,
            element.Status
            );
        });
      }


        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
       // TODO: Add SDKs for Firebase products that you want to use
       // https://firebase.google.com/docs/web/setup#available-libraries

       // Your web app's Firebase configuration
       const firebaseConfig = {
       apiKey: "AIzaSyCJf4rVDj2fiURRaDmjpq3f-J7TX_gxBwo",
       authDomain: "logindressrental.firebaseapp.com",
       databaseURL: "https://logindressrental-default-rtdb.firebaseio.com",
       projectId: "logindressrental",
       storageBucket: "logindressrental.appspot.com",
       messagingSenderId: "416669143420",
       appId: "1:416669143420:web:64e6a2cbf84bdb505894f9"
      };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);

  import { getDatabase, ref, child, onValue, get } 
  from "https://www.gstatic.com/firebasejs/9.22.2/firebase-database.js";
  const db = getDatabase();



// ---------------- GETTING ALL DATA -----------------------------------------------------//


    function GetAllDataRealtime(){
      const dbRef = ref(db, "DressRental");
     
      onValue(dbRef,(snapshot)=>{

        var dress = [];

        snapshot.forEach((childSnapshot) =>{
        dress.push(childSnapshot.val());
 

        });

        AddAllItemsToTable(dress);


      });
       
    }

   window.onload = GetAllDataRealtime;




</script>


</body>
<div class="container mt-3 text-center fw-bold">
  <div class="">
    <a
      href="inputofdata.html"
      class="btn btn-info text-dark fw-bold"
      id="logout"
      style="white-space: nowrap"
    >
      RENT A DRESS</a>
  



    
</div>
<br/>    
       
      </form>
    </div>

</html>


